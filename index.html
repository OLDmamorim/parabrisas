<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EXPRESSGLASS ‚Ä¢ Rece√ß√£o material</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header class="topbar">
    <h1 class="brand">EXPRESSGLASS</h1>
    <span id="viewBadge" class="badge">Mobile</span>
  </header>
  <p class="subtitle">Rece√ß√£o material</p>

  <!-- ===== MOBILE CARD ===== -->
  <section id="mobileView" class="card card-main">
    <button id="helpBtn" class="help-chip">?<span> Instru√ß√µes</span></button>

    <div class="camera-block">
      <button id="btnCamera" class="camera-btn pulse" type="button">
        <img src="https://cdn.jsdelivr.net/gh/tabler/tabler-icons/icons/camera.svg" alt="camera" />
      </button>
      <input id="cameraInput" type="file" accept="image/*" capture="environment" hidden />
    </div>

    <h2 class="h-title">Rece√ß√£o de Material</h2>
    <p class="hint">
      Tira uma foto √† <b>etiqueta</b> do material. Inclui a <b>descri√ß√£o</b> e o <b>c√≥digo</b> se poss√≠vel.
    </p>

    <div id="mobileStatus" class="status"></div>

    <hr class="sep" />

    <div class="history-header">
      <h3 class="section-title">üìã √öltimas Capturas</h3>
      <button id="historyClearBtn" class="btn danger">Limpar</button>
    </div>
    <div id="mobileHistoryList" class="history-list"></div>

    <p class="madefor">Feito para o Marco ‚Ä¢ Timezone: Europe/Lisbon</p>
  </section>

  <!-- ===== DESKTOP PANEL ===== -->
  <section id="desktopView" class="card card-desktop">
    <div class="toolbar">
      <button id="btnUpload" class="btn">Carregar imagem</button>
      <input id="fileInput" type="file" accept="image/*" hidden />
      <button id="btnExport" class="btn">Exportar CSV</button>
      <button id="btnClear" class="btn danger">Limpar Tabela</button>
      <button id="helpBtnDesktop" class="btn ghost">Instru√ß√µes</button>
    </div>

    <div id="desktopStatus" class="status"></div>

    <table id="resultsTable" class="table">
      <thead></thead>
      <tbody id="resultsBody"></tbody>
    </table>
  </section>

  <!-- ===== MODAL AJUDA ===== -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <button id="helpClose" class="modal-close">‚úï</button>
      <h3>Instru√ß√µes</h3>
      <ol>
        <li>No <b>Mobile</b>, toca no bot√£o da c√¢mara e fotografa a etiqueta/descri√ß√£o/c√≥digo.</li>
        <li>No <b>Desktop</b>, usa ‚ÄúCarregar imagem‚Äù.</li>
        <li>O texto lido √© gravado no Neon (Postgres). Podes apagar linhas no desktop.</li>
      </ol>
      <p>Qualquer erro: tenta novamente ou verifica a liga√ß√£o.</p>
    </div>
  </div>

  <!-- ===== TOAST ===== -->
  <div id="toast" class="toast"></div>

  <script src="app.js"></script>
</body>
</html>