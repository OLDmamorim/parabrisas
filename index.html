<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EXPRESSGLASS</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="header-inner">
      <h1 class="brand">EXPRESSGLASS</h1>
      <span id="viewBadge" class="view-badge">Mobile</span>
    </div>
  </header>

  <main class="wrap">

    <!-- MOBILE -->
    <section id="mobileView" class="panel mobile-only">
      <div class="panel-head">
        <h2 class="panel-title">Rece√ß√£o material</h2>
        <button id="helpBtn" class="pill">Instru√ß√µes</button>
      </div>

      <!-- √Årea da c√¢mara com INPUT sobreposto (abre sempre) -->
      <div class="cam-wrap">
        <button id="btnCamera" class="cam-box" type="button" aria-label="Tirar foto">
          <svg class="cam-ico" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M9.5 5.5h5l1 1.5h2.5A2 2 0 0 1 20 9v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h2.5l1-1.5zM12 17a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/>
          </svg>
        </button>

        <!-- ESTE input fica por cima e recebe o toque -->
        <input
          id="cameraInput"
          class="camera-overlay"
          type="file"
          accept="image/*"
          capture="environment"
        />
      </div>

      <p id="mobileStatus" class="status muted">Aguardando captura‚Ä¶</p>

      <p class="hint">
        Tira uma foto √† <strong>etiqueta</strong> do material. Inclui a
        <strong>descri√ß√£o</strong> e o <strong>c√≥digo</strong> se poss√≠vel.
      </p>

      <hr class="sep" />

      <div class="history-head">
        <h3 class="history-title">üìù √öltimas Capturas</h3>
        <button id="btnClear" class="pill pill-danger">Limpar</button>
      </div>

      <div id="mobileHistoryList" class="history-list">
        <p class="history-empty">Ainda n√£o h√° capturas realizadas.</p>
      </div>
    </section>

    <!-- DESKTOP -->
    <section id="desktopView" class="panel desktop-only">
      <div class="toolbar">
        <button id="btnUpload" class="btn">Carregar imagem</button>
        <input id="fileInput" type="file" accept="image/*" hidden />
        <button id="btnExport" class="btn">Exportar CSV</button>
        <button id="btnClearDesktop" class="btn btn-ghost" onclick="document.getElementById('btnClear')?.click()">Limpar Tabela (local)</button>
        <button id="helpBtnDesktop" class="btn btn-ghost">Instru√ß√µes</button>
        <div class="flex-spacer"></div>
        <span id="desktopStatus" class="status muted">‚Äî</span>
      </div>

      <div class="table-wrap">
        <table id="resultsTable" class="tbl">
          <thead></thead>
          <tbody id="resultsBody"></tbody>
        </table>
      </div>
    </section>

  </main>

  <!-- TOAST -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- MODAL -->
  <div id="helpModal" class="modal">
    <div class="modal-card">
      <button id="helpClose" class="modal-close" aria-label="Fechar">√ó</button>
      <h3>Instru√ß√µes</h3>
      <ol class="help-list">
        <li>Carrega no bot√£o da c√¢mara.</li>
        <li>Fotografa a etiqueta do material.</li>
        <li>Garante que descri√ß√£o e c√≥digo est√£o vis√≠veis.</li>
        <li>Confirma o texto lido e repete se necess√°rio.</li>
      </ol>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>