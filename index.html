<!doctype html>
<html lang="pt-PT">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>EXPRESSGLASS ¬∑ Rece√ß√£o material</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="header">
    <h1 class="brand">EXPRESSGLASS</h1>
    <span id="viewBadge" class="badge">Mobile</span>
  </header>

  <!-- ===== MOBILE CARD ===== -->
  <main id="mobileView" class="card">
    <div class="card-head">
      <h2 class="card-title">Rece√ß√£o material</h2>
      <button id="helpBtn" class="help-btn">Instru√ß√µes</button>
    </div>

    <!-- CAMERA AREA -->
    <div class="camera-wrap">
      <button id="btnCamera" class="cam-btn" aria-label="Tirar foto">
        <!-- √≠cone inline para n√£o falhar -->
        <svg viewBox="0 0 24 24" class="cam-icon" aria-hidden="true">
          <path d="M9.5 6 8 8H5a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7a2 2 0 0 0-2-2h-3l-1.5-2h-5ZM12 17.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z"/>
        </svg>
      </button>
      <input id="cameraInput" type="file" accept="image/*" capture="environment" hidden />
      <div id="mobileStatus" class="status">Aguardando captura‚Ä¶</div>

      <p class="instructions">
        Tira uma foto √† <b>etiqueta</b> do material.<br/>
        Inclui a <b>descri√ß√£o</b> e o <b>c√≥digo</b> se poss√≠vel.
      </p>
    </div>

    <!-- HIST√ìRICO (MOBILE) -->
    <section class="history">
      <h3>
        <span>üìã √öltimas Capturas</span>
        <button id="btnClear" class="clear-btn">Limpar</button>
      </h3>
      <div id="mobileHistoryList" class="history-list">
        <p class="history-empty">Ainda n√£o h√° capturas realizadas.</p>
      </div>
    </section>
  </main>

  <!-- ===== DESKTOP VIEW ===== -->
  <section id="desktopView" class="desktop hidden">
    <div class="toolbar">
      <button id="btnUpload" class="btn">Carregar imagem</button>
      <input id="fileInput" type="file" accept="image/*" hidden />
      <button id="btnExport" class="btn">Exportar CSV</button>
      <button id="btnClearDesktop" class="btn btn-muted">Limpar Tabela (local)</button>
      <button id="helpBtnDesktop" class="btn btn-muted">Instru√ß√µes</button>
      <span id="desktopStatus" class="desk-status"></span>
    </div>

    <div class="table-wrap">
      <table id="resultsTable">
        <thead></thead>
        <tbody id="resultsBody"></tbody>
      </table>
    </div>
  </section>

  <!-- TOAST -->
  <div id="toast" class="toast"></div>

  <!-- MODAL INSTRU√á√ïES -->
  <div id="helpModal" class="modal">
    <div class="modal-dialog">
      <div class="modal-head">
        <h4>Instru√ß√µes</h4>
        <button id="helpClose" class="modal-close">√ó</button>
      </div>
      <div class="modal-body">
        <ol>
          <li>Carrega no bot√£o da c√¢mara.</li>
          <li>Fotografa a <b>etiqueta</b> do material.</li>
          <li>Garante que a <b>descri√ß√£o</b> e o <b>c√≥digo</b> est√£o vis√≠veis.</li>
        </ol>
      </div>
    </div>
  </div>

  <script src="/app.js" defer></script>
</body>
</html>