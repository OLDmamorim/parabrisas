<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <title>EXPRESSGLASS</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <h1>EXPRESSGLASS</h1>
    <div class="view-badge" id="viewBadge">Mobile</div>
  </header>

  <!-- MOBILE VIEW -->
  <main id="mobileView" class="card mobile-only">
    <div class="card-header">
      <button id="helpBtn" class="help-btn">‚ùì Instru√ß√µes</button>
    </div>

    <section class="camera-area">
      <button id="btnCamera" class="camera-btn" aria-label="Tirar foto">üì∑</button>
      <input id="cameraInput" type="file" accept="image/*" capture="environment" hidden />
      <p class="subtitle">Rece√ß√£o de Material</p>

      <!-- INSTRU√á√ïES (removidas; manter comentado se quiseres voltar)
      <p class="instructions">
        Fotografa a <b>etiqueta</b>, a <b>descri√ß√£o</b> e, se poss√≠vel, o <b>Eurocode</b>.
      </p>
      -->
    </section>

    <div id="mobileStatus" class="status">Aguardando captura‚Ä¶</div>

    <section class="history">
      <div class="history-head">
        <h3>üìë √öltimas capturas</h3>
        <button id="btnClear" class="btn danger">Limpar</button>
      </div>
      <div id="historyList" class="history-list">Sem hist√≥rico ainda.</div>
    </section>
  </main>

  <!-- DESKTOP VIEW -->
  <section id="desktopView" class="card desktop-only">
    <div class="toolbar">
      <button id="btnUpload" class="btn">Carregar imagem</button>
      <input id="fileInput" type="file" accept="image/*,.pdf" hidden />
      <button id="btnExport" class="btn">Exportar CSV</button>
      <button id="btnClearDesktop" class="btn danger">Limpar Tabela</button>
    </div>

    <div class="table-wrap">
      <table id="resultsTable">
        <thead>
          <tr>
            <th style="width:60px">#</th>
            <th style="width:220px">Data/Hora</th>
            <th>Texto lido (OCR)</th>
            <th style="width:110px">A√ß√µes</th>
          </tr>
        </thead>
        <tbody id="resultsBody"></tbody>
      </table>
    </div>

    <div id="desktopStatus" class="status"></div>
  </section>

  <!-- TOAST -->
  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <!-- DIALOG INSTRU√á√ïES -->
  <dialog id="helpDialog" class="help-dialog">
    <h3>Instru√ß√µes</h3>
    <ol>
      <li>Fotografa a <b>etiqueta</b> do material.</li>
      <li>Inclui a <b>descri√ß√£o</b> e, se poss√≠vel, o <b>Eurocode</b>.</li>
      <li>Evita reflexos e desfocagem.</li>
    </ol>
    <form method="dialog">
      <button class="btn">Fechar</button>
    </form>
  </dialog>

  <script>
    // abrir/fechar instru√ß√µes (n√£o interfere com app.js)
    const helpBtn = document.getElementById('helpBtn');
    const helpDialog = document.getElementById('helpDialog');
    helpBtn?.addEventListener('click', () => helpDialog.showModal());
  </script>

  <script src="app.js"></script>
</body>
</html>